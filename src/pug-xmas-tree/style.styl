*
  box-sizing border-box

body
  background hsl(210, 32%, 20%)
  min-height 100vh
  display flex
  align-items center
  justify-content center
  perspective 1200px
  transform-style preserve-3d

.tree
  position relative
  height 50vmin
  width 25vmin
  transform-style preserve-3d
  animation spin 2s infinite linear

  &__light
    transform-style preserve-3d
    position absolute
    height 1vmin
    width 1vmin
    border-radius 50%
    animation flash calc(var(--speed) * 1s) calc(var(--delay) * 1s) infinite steps(4), appear 0.5s calc(var(--appear) * 0.05s) both
    left 50%
    transform translate(-50%, 50%) rotateY(calc(var(--rotate, 0) * 1deg)) translate3d(0, 0, calc(var(--radius, 0) * 1vmin))
    bottom calc(var(--y, 0) * 1%)

  &__star
    stroke-width 5vmin
    stroke hsl(45, 80%, 80%)
    filter drop-shadow(0 0 2vmin hsl(45, 90%, 90%))
    height 5vmin
    width 5vmin
    overflow visible !important
    bottom 100%
    left 50%
    transform translate(-50%, 0)
    position absolute
    stroke-dasharray 1000 1000
    fill none
    animation stroke 1s calc(var(--delay) * 0.05s) both

@keyframes stroke
  from
    stroke-dashoffset -1000

@keyframes spin
  to
    transform rotateY(360deg)

@keyframes appear
  from
    opacity 0

@keyframes flash
  0%, 100%
    background #4F60F6

  20%
    background #F64F4F

  40%
    background #4FECF6

  60%
    background #F6DB4F

  80%
    background #F64FE5