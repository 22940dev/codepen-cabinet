*
  box-sizing border-box
  transform-style preserve-3d
:root
  --speed 8s
  --segment-size 120px
  --container-size calc(3 * var(--segment-size))

body
  display flex
  align-items center
  justify-content center
  min-height 100vh
  background hsl(0, 0%, 5%)
  perspective 1200px

main
  transform scale(5) rotateY(-35deg)

.breaker
  position absolute
  top 50%
  left 50%
  transform translate(-50%, -50%)
  height var(--container-size)
  width var(--container-size)
  display grid
  grid-template-rows repeat(3, 1fr)
  grid-template-columns repeat(3, 1fr)

  &:nth-of-type(1)
    animation grow var(--speed) infinite linear

  &__segment
    background hsl(0, 0%, 100%)

    &:nth-of-type(1)
    &:nth-of-type(2)
    &:nth-of-type(3)
    &:nth-of-type(4)
    &:nth-of-type(6)
    &:nth-of-type(7)
    &:nth-of-type(8)
    &:nth-of-type(9)
      animation-duration var(--speed)
      animation-iteration-count infinite
      animation-timing-function linear
      animation-fill-mode forwards
    &:nth-of-type(1)
      animation-name breakout-1
    &:nth-of-type(2)
      animation-name breakout-2
    &:nth-of-type(3)
      animation-name breakout-3
    &:nth-of-type(6)
      animation-name breakout-4
    &:nth-of-type(9)
      animation-name breakout-5
    &:nth-of-type(8)
      animation-name breakout-6
    &:nth-of-type(7)
      animation-name breakout-7
    &:nth-of-type(4)
      animation-name breakout-8

  &__container
    animation rotate calc(var(--speed) * 1.3) calc(var(--speed) * -0.7) infinite linear

@keyframes rotate
  to
    transform rotate(360deg)


@keyframes breakout-1
  0%, 0%
    transform translate(0, 0)
  100%
    transform translate(-400vmax, -400vmax)
@keyframes breakout-2
  0%, 12.5%
    transform translate(0, 0)
  100%
    transform translate(0, -350vmax)
@keyframes breakout-3
  0%, 25%
    transform translate(0, 0)
  100%
    transform translate(300vmax, -300vmax)
@keyframes breakout-4
  0%, 37.5%
    transform translate(0, 0)
  100%
    transform translate(250vmax, 0)
@keyframes breakout-5
  0%, 50%
    transform translate(0, 0)
  100%
    transform translate(200vmax, 200vmax)
@keyframes breakout-6
  0%, 62.5%
    transform translate(0, 0)
  100%
    transform translate(0, 150vmax)
@keyframes breakout-7
  0%, 75%
    transform translate(0, 0)
  100%
    transform translate(-100vmax, 100vmax)
@keyframes breakout-8
  0%, 87.5%
    transform translate(0, 0)
  100%
    transform translate(-50vmax, 0)

@keyframes grow
  0%
    transform translate(-50%, -50%) scale(1/9)
  100%
    transform translate(-50%, -50%) scale(1/3)