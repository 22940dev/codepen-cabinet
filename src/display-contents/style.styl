*
  box-sizing border-box

body
  background-color #2eec71
  color            #fafafa
  text-align       center

@keyframes move
  0%, 100%
    transform translate(0, 0)
  25%
    transform translate(35%, 65%)
  50%
    transform translate(55%, 25%)

@keyframes move-flipped
  0%, 100%
    transform rotateY(180deg) translate(0, 0)
  25%
    transform rotateY(180deg) translate(35%, 65%)
  50%
    transform rotateY(180deg) translate(55%, 25%)

@keyframes nod
  0, 100%
    transform translateY(0)
  50%
    transform translateY(25%)

.container
  display inline-flex
  align-items center
  flex-direction column
  position relative

random(ceiling)
  return floor(math(1, 'random')*ceiling)

label
  font-size 2.5rem

.dogmoji
  font-size 2.5rem
  position absolute
  right 15px
  transform translateY(0)

.let-the-dogs-out
  border-radius 50%
  height 3rem
  width  3rem
  &:checked
    & ~ .dogmoji
      animation nod .15s infinite
    & ~ .yard
      .kennel
        display contents
        .door
          display none
        .dog
          animation-iteration-count infinite
          for dog in (1..20)
            &:nth-child({dog})
              if random(10) < 5
                animation-name move
              else
                animation-name move-flipped


.yard
  border 4px solid silver
  border-radius 5px
  background-color grey
  height 400px
  width  400px
  display flex
  flex-direction row
  flex-wrap wrap
  justify-content center
  align-items center

  .kennel
    display block
    flex-basis 100px
    height 100px
    overflow hidden

    .door
      height 100%
      width  100%
      background-color black

    .dog
      display flex
      height 2rem
      margin 2rem
      font-size 2rem

      for dog in (1..17)
        &:nth-child({dog})
          animation-duration random(10) * .1s
          animation-delay random(10) * .1s