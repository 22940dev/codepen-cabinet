*
  box-sizing border-box

body
  align-items      center
  background-color #111
  color            #fafafa
  display          flex
  height           100vh
  justify-content  center
  overflow          hidden
  width            100vw

$movement  = 100%
$size      = 5vh
$primary   = #68c383
$secondary = #f03434
$tertiary  = #913d88

.container
  position relative
  transform rotateX(45deg) translateY(-($size * 3))

.layer
  display flex
  transform rotateX(45deg) rotate(45deg)

  &__wrapper
    position absolute
    for $child in (1..3)
      &:nth-child({$child})
        transform translate(-50%, (-($size) + (($child - 1) * $size)))
        z-index 3 - ($child - 1)

.cube
  background-color $primary
  height $size
  position relative
  width  $size

  &:before
  &:after
    content ''
    display block
    height 105%
    position absolute
    width  105%

  &:before
    background-color $secondary
    left 100%
    top 50%
    transform skewY(45deg)

  &:after
    background-color $tertiary
    left 50%
    top 100%
    transform skewX(45deg)